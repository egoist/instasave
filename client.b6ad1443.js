webpackJsonp([1],{10:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(44),a=n(45),i=(n.n(a),n(46)),s=(n.n(i),n(41));r.a.config.productionTip=!1,new r.a({el:"#app",render:function(t){return t(s.a)}})},11:function(t,e,n){window.Promise||(window.Promise=n(34)),Object.assign=n(8)},30:function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(a,i){try{var s=e[a](i),o=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(o).then(function(t){r("next",t)},function(t){r("throw",t)});t(o)}return r("next")})}}function a(t){return t.replace(/\/sh0.08\//,"/").replace(/\/[a-z]\d{3}x\d{3}\//,"/")}var i=n(31),s=n.n(i),o=n(12),u=n.n(o),c=n(40),l=n.n(c),h=n(35),d=n.n(h),p=n(32),v=n.n(p);e.a={name:"app",data:function(){return{url:"",image:null,error:null,fetching:!1,downloading:!1}},created:function(){var t=d.a.parse(window.location.hash);t.url&&(this.url=t.url,this.previewImage())},methods:{handleTyping:function(){this.error&&(this.error=null),this.image&&(this.image=null);var t=d.a.parse(window.location.hash);t.url=this.url,window.location.hash=d.a.stringify(t)},fetchImage:function(){function t(t){return e.apply(this,arguments)}var e=r(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("https://instasave-api.now.sh/embed?url="+e).then(function(t){return t.data});case 3:return n=t.sent,this.error=null,t.abrupt("return",{url:a(n.thumbnail_url),author:n.author_name,desc:n.title});case 8:return t.prev=8,t.t0=t.catch(0),t.t0.response?this.error=t.t0.response.data:this.error=t.t0.message,t.abrupt("return",null);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));return t}(),previewImage:function(){function t(){return e.apply(this,arguments)}var e=r(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.url.trim())&&!this.fetching){t.next=3;break}return t.abrupt("return");case 3:return this.fetching=!0,t.next=6,this.fetchImage(e);case 6:this.image=t.sent,this.fetching=!1;case 8:case"end":return t.stop()}},t,this)}));return t}(),downloadImage:function(){function t(){return e.apply(this,arguments)}var e=r(s.a.mark(function t(){var e,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.url.trim())&&!this.downloading){t.next=3;break}return t.abrupt("return");case 3:return this.downloading=!0,t.next=6,this.fetchImage(e);case 6:n=t.sent,v()(n.url),this.downloading=!1;case 9:case"end":return t.stop()}},t,this)}));return t}()},components:{gh:l.a}}},41:function(t,e,n){"use strict";function r(t){n(47)}var a=n(30),i=n(43),s=n(42),o=r,u=s(a.a,i.a,o,"data-v-10640590",null);e.a=u.exports},43:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("gh",{attrs:{slug:"egoist/instasave"}}),t._v(" "),n("h1",{staticClass:"app-title"},[t._v("InstaSave")]),t._v(" "),n("label",{staticClass:"url-label",attrs:{for:"instasave-url"}},[t._v("Paste your Instagram link here")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"url-input",attrs:{autofocus:"",placeholder:"https://www.instagram.com/p/BJmERWHgFEd/",id:"instasave-url"},domProps:{value:t.url},on:{input:[function(e){e.target.composing||(t.url=e.target.value)},t.handleTyping],keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.fetchImage(e)}}}),t._v(" "),t.error?n("div",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),t.image?n("div",{staticClass:"preview"},[n("img",{attrs:{src:t.image.url,alt:t.image.desc}}),t._v(" "),n("p",[t._v(t._s(t.image.desc))]),t._v(" "),n("p",[t._v("-- by "),n("a",{attrs:{href:"https://www.instagram.com/"+t.image.author+"/",target:"_blank"}},[t._v(t._s(t.image.author))])])]):t._e(),t._v(" "),n("div",{staticClass:"actions"},[n("div",{staticClass:"action"},[n("button",{staticClass:"button-preview",attrs:{disabled:!t.url,type:"button"},on:{click:t.previewImage}},[t._v(t._s(t.fetching?"Fetching...":"Preview"))])]),t._v(" "),n("div",{staticClass:"action"},[n("button",{staticClass:"button-download",attrs:{disabled:!t.url,type:"button"},on:{click:t.downloadImage}},[t._v(t._s(t.downloading?"Downloading...":"Download"))])])])],1)},a=[];e.a={render:r,staticRenderFns:a}},46:function(t,e){},47:function(t,e){},49:function(t,e,n){n(11),t.exports=n(10)}},[49]);
//# sourceMappingURL=client.b6ad1443.js.map