{"version":3,"sources":["/Users/egoist/dev/instasave/client.be43b778.js","/Users/egoist/dev/instasave/src/index.js","/Users/egoist/dev/instasave/src/polyfills.js","/Users/egoist/dev/instasave/App.vue?21432695","webpack:///./src/components/App.vue?55f5","webpack:///./src/components/App.vue?179e"],"names":["webpackJsonp","11","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_normalize_css_normalize_css__","__WEBPACK_IMPORTED_MODULE_2__styl_global_styl__","n","__WEBPACK_IMPORTED_MODULE_3__components_App_vue__","config","productionTip","el","render","h","12","exports","window","Promise","assign","31","_asyncToGenerator","fn","gen","apply","this","arguments","resolve","reject","step","key","arg","info","error","done","then","err","getOriginalImage","url","replace","__WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","__WEBPACK_IMPORTED_MODULE_2_vue_github_badge__","__WEBPACK_IMPORTED_MODULE_2_vue_github_badge___default","__WEBPACK_IMPORTED_MODULE_3_query_string__","__WEBPACK_IMPORTED_MODULE_3_query_string___default","__WEBPACK_IMPORTED_MODULE_4_downloadjs__","__WEBPACK_IMPORTED_MODULE_4_downloadjs___default","name","data","year","Date","getFullYear","image","fetching","downloading","created","query","a","parse","location","hash","previewImage","methods","handleTyping","stringify","fetchImage","_x","_ref","mark","_callee","res","wrap","_context","prev","next","get","sent","abrupt","thumbnail_url","author","author_name","desc","title","filename","media_id","t0","response","message","stop","_ref2","_callee2","_context2","trim","downloadImage","_ref3","_callee3","_ref4","_context3","method","responseType","components","gh","35","36","47","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_cacheDirectory_true_babelrc_true_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_10640590_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","49","_vm","_h","$createElement","_c","_self","attrs","id","slug","_v","staticClass","for","directives","rawName","expression","autofocus","placeholder","domProps","on","input","$event","target","composing","keydown","_k","keyCode","_s","_e","src","alt","href","disabled","type","click","staticRenderFns","51"],"mappings":"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","file":"client.be43b778.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 11:\n/* no static exports found */\n/* all exports used */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(/*! vue */ 50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_normalize_css_normalize_css__ = __webpack_require__(/*! normalize.css/normalize.css */ 34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_normalize_css_normalize_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_normalize_css_normalize_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__styl_global_styl__ = __webpack_require__(/*! ./styl/global.styl */ 35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__styl_global_styl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__styl_global_styl__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_App_vue__ = __webpack_require__(/*! ./components/App.vue */ 47);\n\n// Global stylesheet\n\n\n\n\n\n// Farewell annoying tip and I know what I'm doing :)\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_3__components_App_vue__[\"a\" /* default */]);\n  }\n});\n\n/***/ }),\n\n/***/ 12:\n/* no static exports found */\n/* all exports used */\n/*!**************************!*\\\n  !*** ./src/polyfills.js ***!\n  \\**************************/\n/***/ (function(module, exports, __webpack_require__) {\n\nif (!window.Promise) {\n  window.Promise = __webpack_require__(/*! promise-polyfill */ 39);\n}\n\nObject.assign = __webpack_require__(/*! object-assign */ 8);\n\n/***/ }),\n\n/***/ 31:\n/* exports provided: default */\n/* exports used: default */\n/*!***********************************************************************************************************************************************!*\\\n  !*** ./~/babel-loader/lib?{\"cacheDirectory\":true,\"babelrc\":true}!./~/vue-loader/lib/selector.js?type=script&index=0!./src/components/App.vue ***!\n  \\***********************************************************************************************************************************************/\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator__ = __webpack_require__(/*! ./~/babel-runtime/regenerator */ 32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(/*! axios */ 13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_github_badge__ = __webpack_require__(/*! vue-github-badge */ 46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_github_badge___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue_github_badge__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_query_string__ = __webpack_require__(/*! query-string */ 40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_query_string___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_query_string__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_downloadjs__ = __webpack_require__(/*! downloadjs */ 33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_downloadjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_downloadjs__);\n\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\nfunction getOriginalImage(url) {\n  return url.replace(/\\/sh0.08\\//, '/').replace(/\\/[a-z]\\d{3}x\\d{3}\\//, '/');\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      year: new Date().getFullYear(),\n      url: '',\n      image: null,\n      error: null,\n      fetching: false,\n      downloading: false\n    };\n  },\n  created: function created() {\n    var query = __WEBPACK_IMPORTED_MODULE_3_query_string___default.a.parse(window.location.hash);\n    if (query.url) {\n      this.url = query.url;\n      this.previewImage();\n    }\n  },\n\n  methods: {\n    handleTyping: function handleTyping() {\n      if (this.error) {\n        this.error = null;\n      }\n      if (this.image) {\n        this.image = null;\n      }\n      var query = __WEBPACK_IMPORTED_MODULE_3_query_string___default.a.parse(window.location.hash);\n      query.url = this.url;\n      window.location.hash = __WEBPACK_IMPORTED_MODULE_3_query_string___default.a.stringify(query);\n    },\n    fetchImage: function () {\n      var _ref = _asyncToGenerator(__WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator___default.a.mark(function _callee(url) {\n        var res;\n        return __WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return __WEBPACK_IMPORTED_MODULE_1_axios___default.a.get('https://instasave-api.now.sh/embed?url=' + url).then(function (res) {\n                  return res.data;\n                });\n\n              case 3:\n                res = _context.sent;\n\n                this.error = null;\n                return _context.abrupt('return', {\n                  url: getOriginalImage(res.thumbnail_url),\n                  author: res.author_name,\n                  desc: res.title,\n                  filename: res.author_name + '-' + res.media_id\n                });\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context['catch'](0);\n\n                if (_context.t0.response) {\n                  this.error = _context.t0.response.data;\n                } else {\n                  this.error = _context.t0.message;\n                }\n                return _context.abrupt('return', null);\n\n              case 12:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function fetchImage(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return fetchImage;\n    }(),\n    previewImage: function () {\n      var _ref2 = _asyncToGenerator(__WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator___default.a.mark(function _callee2() {\n        var url;\n        return __WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                url = this.url.trim();\n\n                if (!(!url || this.fetching)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 3:\n\n                this.fetching = true;\n                _context2.next = 6;\n                return this.fetchImage(url);\n\n              case 6:\n                this.image = _context2.sent;\n\n                this.fetching = false;\n\n              case 8:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function previewImage() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return previewImage;\n    }(),\n    downloadImage: function () {\n      var _ref3 = _asyncToGenerator(__WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator___default.a.mark(function _callee3() {\n        var url, res, _ref4, data;\n\n        return __WEBPACK_IMPORTED_MODULE_0__Users_egoist_dev_instasave_node_modules_babel_runtime_regenerator___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                url = this.url.trim();\n\n                if (!(!url || this.downloading)) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt('return');\n\n              case 3:\n\n                this.downloading = true;\n                _context3.next = 6;\n                return this.fetchImage(url);\n\n              case 6:\n                res = _context3.sent;\n                _context3.next = 9;\n                return __WEBPACK_IMPORTED_MODULE_1_axios___default()({\n                  method: 'get',\n                  url: res.url,\n                  responseType: 'blob'\n                });\n\n              case 9:\n                _ref4 = _context3.sent;\n                data = _ref4.data;\n\n                __WEBPACK_IMPORTED_MODULE_4_downloadjs___default()(data, res.filename + '.jpg', 'image/jpeg');\n                this.downloading = false;\n\n              case 13:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function downloadImage() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return downloadImage;\n    }()\n  },\n  components: {\n    gh: __WEBPACK_IMPORTED_MODULE_2_vue_github_badge___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 35:\n/* no static exports found */\n/*!******************************!*\\\n  !*** ./src/styl/global.styl ***!\n  \\******************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 36:\n/* no static exports found */\n/* all exports used */\n/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\\\n  !*** ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"autoprefixer\":false,\"sourceMap\":true,\"minimize\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-10640590\",\"scoped\":true,\"hasInlineConfig\":true}!./~/stylus-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/App.vue ***!\n  \\**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 47:\n/* exports provided: default */\n/* exports used: default */\n/*!********************************!*\\\n  !*** ./src/components/App.vue ***!\n  \\********************************/\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_cacheDirectory_true_babelrc_true_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(/*! !babel-loader?{\"cacheDirectory\":true,\"babelrc\":true}!../../~/vue-loader/lib/selector?type=script&index=0!./App.vue */ 31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_10640590_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(/*! !../../~/vue-loader/lib/template-compiler/index?{\"id\":\"data-v-10640590\"}!../../~/vue-loader/lib/selector?type=template&index=0!./App.vue */ 49);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(/*! !../../~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!vue-style-loader!css-loader?{\"autoprefixer\":false,\"sourceMap\":true,\"minimize\":true}!../../~/vue-loader/lib/style-compiler/index?{\"vue\":true,\"id\":\"data-v-10640590\",\"scoped\":true,\"hasInlineConfig\":true}!stylus-loader?{\"sourceMap\":true}!../../~/vue-loader/lib/selector?type=styles&index=0!./App.vue */ 36)\n}\nvar normalizeComponent = __webpack_require__(/*! ../../~/vue-loader/lib/component-normalizer */ 48)\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-10640590\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_cacheDirectory_true_babelrc_true_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_10640590_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 49:\n/* exports provided: default */\n/* exports used: default */\n/*!***************************************************************************************************************************************************!*\\\n  !*** ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-10640590\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue ***!\n  \\***************************************************************************************************************************************************/\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('gh', {\n    attrs: {\n      \"slug\": \"egoist/instasave\"\n    }\n  }), _vm._v(\" \"), _c('h1', {\n    staticClass: \"app-title\"\n  }, [_vm._v(\"InstaSave\")]), _vm._v(\" \"), _c('label', {\n    staticClass: \"url-label\",\n    attrs: {\n      \"for\": \"instasave-url\"\n    }\n  }, [_vm._v(\"Paste your Instagram link here\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.url),\n      expression: \"url\"\n    }],\n    staticClass: \"url-input\",\n    attrs: {\n      \"autofocus\": \"\",\n      \"placeholder\": \"https://www.instagram.com/p/BJmERWHgFEd/\",\n      \"id\": \"instasave-url\"\n    },\n    domProps: {\n      \"value\": (_vm.url)\n    },\n    on: {\n      \"input\": [function($event) {\n        if ($event.target.composing) { return; }\n        _vm.url = $event.target.value\n      }, _vm.handleTyping],\n      \"keydown\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.previewImage($event)\n      }\n    }\n  }), _vm._v(\" \"), (_vm.error) ? _c('div', {\n    staticClass: \"error\"\n  }, [_vm._v(_vm._s(_vm.error))]) : _vm._e(), _vm._v(\" \"), (_vm.image) ? _c('div', {\n    staticClass: \"preview\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.image.url,\n      \"alt\": _vm.image.desc\n    }\n  }), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.image.desc))]), _vm._v(\" \"), _c('p', [_vm._v(\"-- by \"), _c('a', {\n    attrs: {\n      \"href\": (\"https://www.instagram.com/\" + (_vm.image.author) + \"/\"),\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(_vm._s(_vm.image.author))])])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"actions\"\n  }, [_c('div', {\n    staticClass: \"action\"\n  }, [_c('button', {\n    staticClass: \"button-preview\",\n    attrs: {\n      \"disabled\": !_vm.url,\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.previewImage\n    }\n  }, [_vm._v(_vm._s(_vm.fetching ? 'Fetching...' : 'Preview'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"action\"\n  }, [_c('button', {\n    staticClass: \"button-download\",\n    attrs: {\n      \"disabled\": !_vm.url,\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.downloadImage\n    }\n  }, [_vm._v(_vm._s(_vm.downloading ? 'Downloading...' : 'Download'))])])]), _vm._v(\" \"), _c('footer', {\n    staticClass: \"footer\"\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.year) + \" © \"), _c('a', {\n    attrs: {\n      \"href\": \"https://github.com/egoist/donate\"\n    }\n  }, [_vm._v(\"EGOIST\")])])], 1)\n}\nvar staticRenderFns = []\n/* harmony default export */ __webpack_exports__[\"a\"] = ({ render: render, staticRenderFns: staticRenderFns });\n\n/***/ }),\n\n/***/ 51:\n/* no static exports found */\n/* all exports used */\n/*!*****************************************************************************!*\\\n  !*** multi ./~/poi-preset-offline/pwa.js ./src/polyfills.js ./src/index.js ***!\n  \\*****************************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(/*! /Users/egoist/dev/instasave/node_modules/poi-preset-offline/pwa.js */10);\n__webpack_require__(/*! /Users/egoist/dev/instasave/src/polyfills.js */12);\nmodule.exports = __webpack_require__(/*! /Users/egoist/dev/instasave/src/index.js */11);\n\n\n/***/ })\n\n},[51]);\n\n\n// WEBPACK FOOTER //\n// client.be43b778.js","import Vue from 'vue'\n// Global stylesheet\nimport 'normalize.css/normalize.css'\nimport './styl/global.styl'\n\nimport App from './components/App.vue'\n\n// Farewell annoying tip and I know what I'm doing :)\nVue.config.productionTip = false\n\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","if (!window.Promise) {\n  window.Promise = require('promise-polyfill')\n}\n\nObject.assign = require('object-assign')\n\n\n\n// WEBPACK FOOTER //\n// ./src/polyfills.js","<template>\n  <div id=\"app\">\n    <gh slug=\"egoist/instasave\"></gh>\n    <h1 class=\"app-title\">InstaSave</h1>\n    <label class=\"url-label\" for=\"instasave-url\">Paste your Instagram link here</label>\n    <input\n    autofocus\n    @input=\"handleTyping\"\n    placeholder=\"https://www.instagram.com/p/BJmERWHgFEd/\" @keydown.enter=\"previewImage\" class=\"url-input\" id=\"instasave-url\" v-model=\"url\">\n    <div class=\"error\" v-if=\"error\">{{ error }}</div>\n    <div class=\"preview\" v-if=\"image\">\n      <img :src=\"image.url\" :alt=\"image.desc\">\n      <p>{{ image.desc }}</p>\n      <p>-- by <a :href=\"`https://www.instagram.com/${image.author}/`\" target=\"_blank\">{{ image.author }}</a></p>\n    </div>\n    <div class=\"actions\">\n      <div class=\"action\">\n        <button :disabled=\"!url\" type=\"button\" class=\"button-preview\" @click=\"previewImage\">{{ fetching ? 'Fetching...' : 'Preview' }}</button>\n      </div>\n      <div class=\"action\">\n        <button :disabled=\"!url\" type=\"button\" class=\"button-download\" @click=\"downloadImage\">{{ downloading ? 'Downloading...' : 'Download' }}</button>\n      </div>\n    </div>\n    <footer class=\"footer\">\n      {{ year }} &copy; <a href=\"https://github.com/egoist/donate\">EGOIST</a>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport gh from 'vue-github-badge'\nimport qs from 'query-string'\nimport download from 'downloadjs'\n\nfunction getOriginalImage(url) {\n  return url\n    .replace(/\\/sh0.08\\//, '/')\n    .replace(/\\/[a-z]\\d{3}x\\d{3}\\//, '/')\n}\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      year: new Date().getFullYear(),\n      url: '',\n      image: null,\n      error: null,\n      fetching: false,\n      downloading: false\n    }\n  },\n  created() {\n    const query = qs.parse(window.location.hash)\n    if (query.url) {\n      this.url = query.url\n      this.previewImage()\n    }\n  },\n  methods: {\n    handleTyping() {\n      if (this.error) {\n        this.error = null\n      }\n      if (this.image) {\n        this.image = null\n      }\n      const query = qs.parse(window.location.hash)\n      query.url = this.url\n      window.location.hash = qs.stringify(query)\n    },\n    async fetchImage(url) {\n      try {\n        const res = await axios.get(`https://instasave-api.now.sh/embed?url=${url}`)\n          .then(res => res.data)\n        this.error = null\n        return {\n          url: getOriginalImage(res.thumbnail_url),\n          author: res.author_name,\n          desc: res.title,\n          filename: `${res.author_name}-${res.media_id}`\n        }\n      } catch (err) {\n        if (err.response) {\n          this.error = err.response.data\n        } else {\n          this.error = err.message\n        }\n        return null\n      }\n    },\n    async previewImage() {\n      const url = this.url.trim()\n      if (!url || this.fetching) return\n\n      this.fetching = true\n      this.image = await this.fetchImage(url)\n      this.fetching = false\n    },\n    async downloadImage() {\n      const url = this.url.trim()\n      if (!url || this.downloading) return\n\n      this.downloading = true\n      const res = await this.fetchImage(url)\n      const { data } = await axios({\n        method: 'get',\n        url: res.url,\n        responseType: 'blob'\n      })\n      download(data, `${res.filename}.jpg`, 'image/jpeg')\n      this.downloading = false\n    }\n  },\n  components: {\n    gh\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n  .app-title\n    margin-top: 100px\n    font-weight: 300\n    font-size: 3rem\n\n  .url-label\n    color: #ff5722\n    display: block\n    height: 30px\n    line-height: 30px\n    text-align: left\n\n  .url-input\n    display: block\n    width: 100%\n    border: 1px solid #e2e2e2\n    box-shadow: 1px 2px 2px #f0f0f0\n    background-color: white\n    padding: 10px 10px\n    border-radius: 4px\n    outline: none\n    &:focus\n      border-color: #ccc\n\n  .actions\n    margin: 20px 0\n\n.preview\n  margin-top: 20px\n  img\n    max-width: 100%\n\n.error\n  text-align: left\n  margin: 20px 0\n  background-color: red\n  color: white\n  padding: 10px\n  border-radius: 4px\n  white-space: pre\n  overflow: auto\n\n.actions\n  display: flex\n  align-items: center\n  justify-content: center\n\n.action\n  padding: 10px\n\n@media screen and (max-width: 768px)\n  .actions\n    flex-direction: column\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?21432695","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-10640590\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"babelrc\\\":true}!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10640590\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-10640590\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = 47\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('gh', {\n    attrs: {\n      \"slug\": \"egoist/instasave\"\n    }\n  }), _vm._v(\" \"), _c('h1', {\n    staticClass: \"app-title\"\n  }, [_vm._v(\"InstaSave\")]), _vm._v(\" \"), _c('label', {\n    staticClass: \"url-label\",\n    attrs: {\n      \"for\": \"instasave-url\"\n    }\n  }, [_vm._v(\"Paste your Instagram link here\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.url),\n      expression: \"url\"\n    }],\n    staticClass: \"url-input\",\n    attrs: {\n      \"autofocus\": \"\",\n      \"placeholder\": \"https://www.instagram.com/p/BJmERWHgFEd/\",\n      \"id\": \"instasave-url\"\n    },\n    domProps: {\n      \"value\": (_vm.url)\n    },\n    on: {\n      \"input\": [function($event) {\n        if ($event.target.composing) { return; }\n        _vm.url = $event.target.value\n      }, _vm.handleTyping],\n      \"keydown\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.previewImage($event)\n      }\n    }\n  }), _vm._v(\" \"), (_vm.error) ? _c('div', {\n    staticClass: \"error\"\n  }, [_vm._v(_vm._s(_vm.error))]) : _vm._e(), _vm._v(\" \"), (_vm.image) ? _c('div', {\n    staticClass: \"preview\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.image.url,\n      \"alt\": _vm.image.desc\n    }\n  }), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.image.desc))]), _vm._v(\" \"), _c('p', [_vm._v(\"-- by \"), _c('a', {\n    attrs: {\n      \"href\": (\"https://www.instagram.com/\" + (_vm.image.author) + \"/\"),\n      \"target\": \"_blank\"\n    }\n  }, [_vm._v(_vm._s(_vm.image.author))])])]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"actions\"\n  }, [_c('div', {\n    staticClass: \"action\"\n  }, [_c('button', {\n    staticClass: \"button-preview\",\n    attrs: {\n      \"disabled\": !_vm.url,\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.previewImage\n    }\n  }, [_vm._v(_vm._s(_vm.fetching ? 'Fetching...' : 'Preview'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"action\"\n  }, [_c('button', {\n    staticClass: \"button-download\",\n    attrs: {\n      \"disabled\": !_vm.url,\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.downloadImage\n    }\n  }, [_vm._v(_vm._s(_vm.downloading ? 'Downloading...' : 'Download'))])])]), _vm._v(\" \"), _c('footer', {\n    staticClass: \"footer\"\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.year) + \" © \"), _c('a', {\n    attrs: {\n      \"href\": \"https://github.com/egoist/donate\"\n    }\n  }, [_vm._v(\"EGOIST\")])])], 1)\n}\nvar staticRenderFns = []\nexport default { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-10640590\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = 49\n// module chunks = 1"],"sourceRoot":""}